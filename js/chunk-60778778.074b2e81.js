(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60778778"],{"139e":function(t,e,s){},7256:function(t,e,s){},"7c9e":function(t,e,s){"use strict";var n=s("139e"),o=s.n(n);o.a},fd96:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return this.$store.getters.isUserAuthenticated?s("div",{staticClass:"update-post"},[s("div",{staticClass:"post content__block"},[s("div",{staticClass:"post__header"},[s("input",{ref:"postTitleInput",staticClass:"update-post__title-input",attrs:{type:"text"}})]),s("TextEditor",{ref:"textEditor",staticClass:"post__body"})],1),s("div",{staticClass:"update-post__buttons content__block"},[s("button",{staticClass:"update-post__btn update-post__success-btn",attrs:{title:"Создать пост"},on:{click:t.createPost}},[t.loading?s("icon",{staticClass:"update-post__loading-icon",attrs:{icon:"bug",spin:""}}):t._e(),s("icon",{attrs:{icon:"check"}})],1),s("button",{staticClass:"update-post__btn update-post__clear-btn",attrs:{title:"Убрать все"},on:{click:t.clearAll}},[s("icon",{attrs:{icon:"times"}})],1)])]):s("Error",{attrs:{message:"Для доступа к этой странице тебе нужно авторизоваться"}})},o=[],r=(s("d3b7"),s("96cf"),s("1da1")),i=(s("7256"),{name:"NewPost",data:function(){return{loading:!1}},components:{TextEditor:function(){return s.e("chunk-71758126").then(s.bind(null,"0f29"))},Error:function(){return s.e("chunk-6c0851c2").then(s.bind(null,"3fb9"))}},mounted:function(){this.$store.commit("showExtraContentBox")},beforeDestroy:function(){this.$store.commit("unshowExtraContentBox")},methods:{clearAll:function(){confirm("Вы уверены, что хотите удалить все изменения?")&&(this.$refs.postTitleInput.value="",this.$refs.textEditor.clearAll())},createPost:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("createPost",{userId:t.$store.getters.userId,title:t.$refs.postTitleInput.value,content:t.$refs.textEditor.getContent()});case 3:s=e.sent,t.loading=!1,t.$store.commit("showNotification",{message:s.message,type:s.success?"success":"error"}),s.success&&t.$router.push({name:"Post",params:{id:s.id}});case 7:case"end":return e.stop()}}),e)})))()}}}),c=i,a=(s("7c9e"),s("2877")),u=Object(a["a"])(c,n,o,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-60778778.074b2e81.js.map